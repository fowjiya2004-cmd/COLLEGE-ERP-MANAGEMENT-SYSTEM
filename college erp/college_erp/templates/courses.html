{% extends "base.html" %}

{% block title %}Courses{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Course Management</h1>
    <a href="{{ url_for('courses') }}?show_form=true" class="btn btn-primary">
        <i class="fas fa-plus"></i> Add Course
    </a>
</div>

{% if show_form %}
<div class="form-container">
    <h2>Add New Course</h2>
    <form method="POST" action="{{ url_for('add_course') }}">
        <div class="form-row">
            <div class="form-group">
                <label for="course_code">Course Code:</label>
                <input type="text" id="course_code" name="course_code" required>
            </div>
            <div class="form-group">
                <label for="course_name">Course Name:</label>
                <input type="text" id="course_name" name="course_name" required>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label for="credits">Credits:</label>
                <input type="number" id="credits" name="credits" min="1" max="5" required>
            </div>
            <div class="form-group">
                <label for="department">Department:</label>
                <input type="text" id="department" name="department" required>
            </div>
        </div>
        <div class="form-row">
            <div class="form-group">
                <label for="faculty_id">Faculty:</label>
                <select id="faculty_id" name="faculty_id" required>
                    <option value="">Select Faculty</option>
                    {% for faculty in faculty_list %}
                    <option value="{{ faculty.faculty_id }}">{{ faculty.first_name }} {{ faculty.last_name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="semester">Semester:</label>
                <input type="number" id="semester" name="semester" min="1" max="8" required>
            </div>
        </div>
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Add Course</button>
            <a href="{{ url_for('courses') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endif %}

<div class="table-container">
    <table class="data-table">
        <thead>
            <tr>
                <th>Course Code</th>
                <th>Course Name</th>
                <th>Credits</th>
                <th>Department</th>
                <th>Faculty</th>
                <th>Semester</th>
            </tr>
        </thead>
        <tbody>
            {% for course in courses %}
            <tr>
                <td>{{ course.course_code }}</td>
                <td>{{ course.course_name }}</td>
                <td>{{ course.credits }}</td>
                <td>{{ course.department }}</td>
                <td>{{ course.first_name }} {{ course.last_name }}</td>
                <td>{{ course.semester }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}